<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Champions League Predictions â€“ Final Scores</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f3f4f6;
      margin: 0;
      padding: 2rem 1rem;
    }
    main {
      max-width: 900px;
      margin: 0 auto;
      background: #ffffff;
      border-radius: 12px;
      padding: 2rem 2.5rem;
      box-shadow: 0 4px 15px rgba(0,0,0,0.06);
    }
    h1 {
      margin-top: 0;
      font-size: 1.9rem;
    }
    p {
      line-height: 1.5;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 1rem;
      font-size: 0.95rem;
    }
    th, td {
      border: 1px solid #e5e7eb;
      padding: 0.6rem 0.8rem;
      text-align: left;
    }
    th {
      background: #111827;
      color: #ffffff;
    }
    tr:nth-child(even) {
      background: #f9fafb;
    }
    tr.winner {
      background: #fef3c7;
      font-weight: 600;
    }
    code, pre {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    pre {
      background: #111827;
      color: #e5e7eb;
      padding: 1rem;
      overflow-x: auto;
      border-radius: 8px;
      font-size: 0.8rem;
      margin-top: 0.75rem;
    }
    details {
      margin-top: 2rem;
    }
    details summary {
      cursor: pointer;
      font-weight: 600;
    }
    footer {
      margin-top: 2rem;
      font-size: 0.8rem;
      color: #6b7280;
    }
  </style>
</head>
<body>
  <main>
    <h1>Champions League Predictions â€“ Final Scores</h1>

    <p>
      This table shows the total penalty points for each player in our UCL predictions game.
      Lower scores are better. The scores are calculated from the real Champions League standings
      using a Python script (shown below).
    </p>

    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Player</th>
          <th>Points</th>
        </tr>
      </thead>
      <tbody>
        <tr class="winner">
          <td>1</td><td>Aziz</td><td>207</td>
        </tr>
        <tr>
          <td>2</td><td>Naser Alghanim</td><td>210</td>
        </tr>
        <tr>
          <td>3</td><td>Abdulhadi aljabaah</td><td>211</td>
        </tr>
        <tr>
          <td>4</td><td>Saad khaled</td><td>214</td>
        </tr>
        <tr>
          <td>5</td><td>Mohanna AlMesaileet</td><td>218</td>
        </tr>
        <tr>
          <td>6</td><td>Ali Almusailleet</td><td>224</td>
        </tr>
        <tr>
          <td>7</td><td>AlMefreh</td><td>227</td>
        </tr>
        <tr>
          <td>8</td><td>Naser almusailleet</td><td>236</td>
        </tr>
        <tr>
          <td>9</td><td>Abdullah alameerah</td><td>236</td>
        </tr>
        <tr>
          <td>10</td><td>Mohammad AlMasilit</td><td>238</td>
        </tr>
        <tr>
          <td>11</td><td>Bader Khalaf</td><td>239</td>
        </tr>
        <tr>
          <td>12</td><td>Bader alsafak</td><td>240</td>
        </tr>
        <tr>
          <td>13</td><td>Othman almusailleet</td><td>257</td>
        </tr>
        <tr>
          <td>14</td><td>Bujoda13</td><td>282</td>
        </tr>
        <tr>
          <td>15</td><td>Youssef Almusailit</td><td>287</td>
        </tr>
      </tbody>
    </table>

    <p><strong>Winner:</strong> Aziz with 207 points ðŸŽ‰</p>

    <details>
      <summary>Show Python code used to calculate the scores</summary>
      <p style="margin-top:0.75rem;">
        Note: replace <code>"YOUR_API_TOKEN_HERE"</code> with your own football-data.org API token
        before running this script.
      </p>
      <pre><code>import pandas as pd
import requests

TOKEN = "YOUR_API_TOKEN_HERE"
url = "https://api.football-data.org/v4/competitions/CL/standings"
r = requests.get(url, headers={"X-Auth-Token": TOKEN})
data = r.json()

club_names = [
    row["team"]["name"]
    for table in data.get("standings", [])
    if table.get("type") in ("TOTAL", "LEAGUE_PHASE")
    for row in table["table"]
]

# 1) actual standings from API (club_names already built)
actual_rank = {name: i + 1 for i, name in enumerate(club_names)}
# e.g. {"FC Bayern MÃ¼nchen": 1, "Arsenal FC": 2, ...}

# 2) read predictions
file_path = "Final_Predictions_standardized.CSV"
Predictions = pd.read_csv(file_path)

# 3) scoring with bonuses
scores = {}  # friend -&gt; total score

for friend in Predictions.columns:
    total_points = 0

    for predicted_pos, club in enumerate(Predictions[friend], start=1):
        actual_pos = actual_rank.get(club)
        if actual_pos is None:
            print(f"Warning: {club!r} in column {friend!r} not found in actual standings")
            continue

        # base difference
        diff = abs(predicted_pos - actual_pos)

        # bonus (negative = good)
        bonus = 0
        if predicted_pos &lt;= 8 and actual_pos &lt;= 8:
            bonus -= 3  # correct top-8 team
        elif predicted_pos &lt;= 24 and actual_pos &lt;= 24:
            bonus -= 1  # correct 9-24 team

        total_points += diff + bonus

    scores[friend] = total_points

# 4) ranking of friends (lowest score wins)
scores_series = pd.Series(scores, name="score").sort_values()
print(scores_series)

winner = scores_series.idxmin()
print("\nWinner:", winner, "with", scores_series.min(), "points")</code></pre>
    </details>

    <footer>
      Simple static page. To update scores in the future, just edit the table rows in this HTML file.
    </footer>
  </main>
</body>
</html>
